<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Blog">
  <head>
    <meta charset="utf-8">
		<link rel="manifest" href="/pwa/manifest.json">

		<title>{% if page.url == "/index.html" %} {{ site.title }} {% else %} {% if page.title %}{{ page.title }}{% endif %} | {{ site.title }} {% endif %}</title>
    {% if page.description %}<meta name="description" content="{{ page.description }}">
    <meta itemprop="description" content="{{ page.description }}">{% endif %}
		{% if post.excerpt %}<meta name="description" content="{{ post.excerpt | strip_html }}">{% endif %}
    <meta name="author" content="{{ site.author.name }}">
    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="theme-color" content="#2196F3">

	{% if page.url == "/404.html" %}
		<meta http-equiv = "refresh" content = "3;url=/">
	{% endif %}
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <!--<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>-->
    <![endif]-->
  <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', function () {
              navigator.serviceWorker.register('/sw.js');

              //navigator.serviceWorker.ready always resolve
              navigator.serviceWorker.ready.then(function (registration) {
                  console.log('Service worker successfully registered on scope', registration.scope);
              });
          });
      }
  </script>
	<script type="text/javascript" src="{{ ASSET_PATH }}/jquery-2.1.3.min.js"></script>

	<link href="{{ ASSET_PATH }}/google-code-prettify/desert.css" type="text/css" rel="stylesheet" />
	<!-- Add fancyBox -->
	<link rel="stylesheet" href="{{ ASSET_PATH }}/fancybox/source/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />

    <!-- Le styles -->
    <link href="{{ ASSET_PATH }}/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ ASSET_PATH }}/css/style.css" rel="stylesheet" type="text/css" media="all">
		<!--<link href="/css/syntax.css" rel="stylesheet" type="text/css" media="all">-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="{{ BASE_PATH }}/images/favicon.ico">

    <!-- atom & rss feed -->
    <link href="{{ BASE_PATH }}{{ site.JB.feed_path }}" type="application/atom+xml" rel="alternate" title="Jekyll auto generate ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.atom_path }}" type="application/atom+xml" rel="alternate" title="Site ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.rss_path }}" type="application/rss+xml" rel="alternate" title="Site RSS Feed">
	<link rel="stylesheet" href="{{ ASSET_PATH }}/font-awesome-4.4.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
  </head>

  <body>
    <div class="navbar navbar-default navbar-fixed-top">
				<div class="container">
          <div class="row mobilepadding">
					<a class="navbar-brand" href="{{ HOME_PATH }}">{{ site.title }}</a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse" id="mNavbar">
  					<ul class="nav navbar-nav">
  						{% assign pages_list = site.pages %}
  						{% assign group = 'navigation' %}
  						{% include JB/pages_list %}
  					</ul>
  					<form id="search-form" class="navbar-form navbar-right" role="search">
  						<div class="form-group">
  						<input type="text" class="form-control input-sm" placeholder="Search" id="query">
  						</div>
  					</form>
  					<div class="nav-icon">
  						<a href="/rss.xml"><i class="fa fa-rss fa-2x"></i></a>
  					</div>
          </div>
				</div>
      </div>
    </div>

    <div class="container">
			<div class="row mobilepadding">
        <div class="row">
					<div class="col-md-12">
						<div class="searchresult">
						</div>
						<div id="search-loader" class="img-wrap">
						</div>
					</div>
        </div>
				{{ content }}
			</div>

		</div>

    <footer>
      <div class="container">
        <div class="row mobilepadding">
          			<hr>
      &copy; {{ site.time | date: '%Y' }} {{ site.author.name }}. Powered by <a href="http://jekyllrb.com" target="_blank" title="The simple, blog-aware, static site generator.">Jekyll</a>. Hosted on <a href="http://github.com/einverne" target="_blank" title="Ein Verne's GitHub Repos">GitHub</a>.
      <br><br>
      </div>
    </div>
    </footer>

    {% include JB/analytics %}

	<script type="text/javascript" src="{{ ASSET_PATH }}/google-code-prettify/prettify.js?skin=desert"></script>
	<script async type="text/javascript">
		$(function(){
    	$("pre").addClass("prettyprint");
    	prettyPrint();
      $('table').addClass('table table-hover');
      $('.navbar').click(function(){
        $('html, body').animate({scrollTop:0}, 'slow');
      })
  	});
	</script>
	<!-- Add mousewheel plugin (this is optional) -->
	<script type="text/javascript" src="{{ ASSET_PATH }}/fancybox/lib/jquery.mousewheel-3.0.6.pack.js"></script>
	<script type="text/javascript" src="{{ ASSET_PATH }}/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
	<script async type="text/javascript" src="{{ ASSET_PATH }}/bootstrap-3.3.5/js/bootstrap.min.js"></script>
	<script async type="text/javascript" src="{{ ASSET_PATH }}/webcore.js"></script>
	<script type="text/javascript" src="{{ ASSET_PATH }}/jquery.bootstrap-autohidingnavbar.min.js"></script>
	<script type="text/javascript" src="{{ ASSET_PATH }}/anchor.min.js"></script>
	<script type="text/javascript" src="{{ ASSET_PATH }}/jquery.qrcode.min.js"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>

  <!-- MathJax -->
  <script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
				processEscapes: true
			}
		});
	</script>
  <script async type="text/javascript" src="{{ ASSET_PATH }}/MathJax-2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
	<script type="text/javascript" async>
		window.___gcfg = {lang: 'zh-CN'};
		(function() {
			var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			po.src = 'https://apis.google.com/js/platform.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
	</script>
	<script async>
		$(document).ready(function() {
			$("p img").each(function(){
				var strA = "<a class='fancybox' rel='gallery' href='" + this.src + "'></a>";
				$(this).wrapAll(strA);
			});
			$(".fancybox").fancybox({
				padding: 0,
				beforeShow: function(){
					var alt = this.element.find('img').attr('alt');
					this.inner.find('img').attr('alt', alt);
					this.title = alt;
				}
			});
			$(".navbar-fixed-top").autoHidingNavbar({
				'animationDuration': 300
			});
		});
	</script>
  </body>
</html>
